<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:vm="using:TranslateUI.ViewModels"
        xmlns:conv="using:TranslateUI.Converters"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        mc:Ignorable="d" d:DesignWidth="900" d:DesignHeight="600"
        x:Class="TranslateUI.Views.MainWindow"
        x:DataType="vm:MainWindowViewModel"
        Icon="/Assets/avalonia-logo.ico"
        Title="{DynamicResource AppTitle}">

    <Design.DataContext>
        <!-- This only sets the DataContext for the previewer in an IDE,
             to set the actual DataContext for runtime, set the DataContext property in code (look at App.axaml.cs) -->
        <vm:MainWindowViewModel/>
    </Design.DataContext>

    <Grid RowDefinitions="Auto,Auto,*" Margin="16">
        <Grid ColumnDefinitions="Auto,Auto,Auto" ColumnSpacing="16">
            <Button Content="{DynamicResource SettingsButton}"
                    Width="140"
                    Click="OnOpenSettingsClicked" />

            <StackPanel Grid.Column="1" Orientation="Horizontal" Spacing="8" VerticalAlignment="Center">
                <TextBlock Text="{DynamicResource SourceLanguageLabel}" VerticalAlignment="Center" />
                <ComboBox ItemsSource="{Binding Languages}"
                          SelectedItem="{Binding SelectedSourceLanguage}"
                          Width="200">
                    <ComboBox.ItemTemplate>
                        <DataTemplate>
                            <TextBlock Text="{Binding DisplayName}" />
                        </DataTemplate>
                    </ComboBox.ItemTemplate>
                </ComboBox>
            </StackPanel>

            <StackPanel Grid.Column="2" Orientation="Horizontal" Spacing="8" VerticalAlignment="Center">
                <TextBlock Text="{DynamicResource TargetLanguageLabel}" VerticalAlignment="Center" />
                <ComboBox ItemsSource="{Binding Languages}"
                          SelectedItem="{Binding SelectedTargetLanguage}"
                          Width="200">
                    <ComboBox.ItemTemplate>
                        <DataTemplate>
                            <TextBlock Text="{Binding DisplayName}" />
                        </DataTemplate>
                    </ComboBox.ItemTemplate>
                </ComboBox>
            </StackPanel>
        </Grid>

        <StackPanel Grid.Row="1" Spacing="4">
            <TextBlock Text="{Binding ErrorMessageKey, Converter={x:Static conv:ResourceKeyToStringConverter.Instance}}"
                       Foreground="Tomato"
                       IsVisible="{Binding HasError}" />
            <TextBlock Text="{Binding StatusMessageKey, Converter={x:Static conv:ResourceKeyToStringConverter.Instance}}"
                       Foreground="SeaGreen"
                       IsVisible="{Binding HasStatus}" />
        </StackPanel>

        <TabControl Grid.Row="2">
            <TabItem Header="{DynamicResource TextTabHeader}">
                <Grid RowDefinitions="Auto,*" ColumnDefinitions="*,*">
                    <StackPanel Grid.ColumnSpan="2" Orientation="Horizontal" Spacing="12">
                        <Button Content="{DynamicResource TranslateButton}" Command="{Binding TranslateCommand}" Width="140" />
                    </StackPanel>

                    <StackPanel Grid.Row="1" Grid.Column="0" Spacing="6" Margin="0,8,8,0">
                        <TextBlock Text="{DynamicResource SourceTextLabel}" />
                        <TextBox Text="{Binding SourceText}"
                                 AcceptsReturn="True"
                                 TextWrapping="Wrap"
                                 Watermark="{DynamicResource SourceTextPlaceholder}" />
                    </StackPanel>

                    <StackPanel Grid.Row="1" Grid.Column="1" Spacing="6" Margin="8,8,0,0">
                        <TextBlock Text="{DynamicResource ResultTextLabel}" />
                        <TextBox Text="{Binding ResultText}"
                                 AcceptsReturn="True"
                                 TextWrapping="Wrap"
                                 IsReadOnly="True"
                                 Watermark="{DynamicResource ResultTextPlaceholder}" />
                    </StackPanel>
                </Grid>
            </TabItem>

            <TabItem Header="{DynamicResource FileTabHeader}">
                <Grid RowDefinitions="Auto,Auto,Auto" ColumnDefinitions="Auto,*,Auto" ColumnSpacing="8" RowSpacing="8">
                    <TextBlock Text="{DynamicResource InputFileLabel}" VerticalAlignment="Center" />
                    <TextBox Grid.Column="1"
                             Text="{Binding InputFilePath}"
                             IsReadOnly="True" />
                    <Button Grid.Column="2"
                            Content="{DynamicResource BrowseButton}"
                            Command="{Binding BrowseInputCommand}" />

                    <TextBlock Grid.Row="1" Text="{DynamicResource OutputFileLabel}" VerticalAlignment="Center" />
                    <TextBox Grid.Row="1"
                             Grid.Column="1"
                             Text="{Binding OutputFilePath}" />
                    <Button Grid.Row="1"
                            Grid.Column="2"
                            Content="{DynamicResource BrowseButton}"
                            Command="{Binding BrowseOutputCommand}" />

                    <StackPanel Grid.Row="2" Grid.Column="1" Orientation="Horizontal" Spacing="8">
                        <Button Content="{DynamicResource TranslateFileButton}"
                                Width="180"
                                Command="{Binding TranslateFileCommand}" />
                        <Button Content="{DynamicResource OpenResultButton}"
                                Width="140"
                                Command="{Binding OpenOutputCommand}" />
                    </StackPanel>
                </Grid>
            </TabItem>
        </TabControl>
    </Grid>

</Window>
